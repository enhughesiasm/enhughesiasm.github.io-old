(this["webpackJsonpenhughesiasm.github.io"]=this["webpackJsonpenhughesiasm.github.io"]||[]).push([[15],{150:function(e,s,t){"use strict";t.r(s);var a=t(1),c=t.n(a),n=t(20),r=t(17),i=t.n(r),o=t(23),l=t(6),d=t(7),u=t(9),h=t(8),b=t(40),j=t(15),m=t(22),p=t(16),x=t(39),f=t(0),O=function(e){var s=e.recaptchaToken,t=e.onSubmit,c=(e.onTest,function(e,s){var t=Object(a.useState)({}),c=Object(m.a)(t,2),n=c[0],r=c[1];return{handleSubmit:function(s){s&&s.preventDefault(),e(n)},handleInputChange:function(e){e.persist(),r((function(s){return Object(j.a)(Object(j.a)({},s),{},Object(b.a)({},e.target.name,e.target.value))}))},inputs:n}}(t)),n=c.inputs,r=c.handleInputChange,i=c.handleSubmit;n.recaptchaToken=s;var o=function(e){return e.name&&e.name.length>=3}(n),l=function(e){return e.email&&/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/.test(e.email)}(n),d=function(e){return e.message&&e.message.length>=20&&e.message.length<2e3}(n),u=!!s&&o&&l&&d;return Object(f.jsxs)("form",{id:"contactForm",onSubmit:i,className:"box",style:{marginTop:"3rem"},children:[Object(f.jsxs)("div",{className:"field is-horizontal",children:[Object(f.jsx)("div",{className:"field-label",children:Object(f.jsx)("label",{className:"label",htmlFor:"fromName",children:"Name"})}),Object(f.jsx)("div",{className:"field-body",children:Object(f.jsxs)("div",{className:"control has-icons-left has-icons-right",style:{width:"100%"},children:[Object(f.jsx)("input",{className:(o?"is-success":"is-warning")+" input is-rounded",id:"fromName",name:"name",placeholder:"Enter your name",value:n.name||"",onChange:r,required:!0}),Object(f.jsx)("span",{className:"icon is-small is-left",children:Object(f.jsx)(p.a,{icon:"user"})}),Object(f.jsx)(x.a,{success:o||!1,position:"is-right"})]})})]}),Object(f.jsxs)("div",{className:"field is-horizontal",children:[Object(f.jsx)("div",{className:"field-label",children:Object(f.jsx)("label",{className:"label",htmlFor:"fromEmail",children:"Email"})}),Object(f.jsx)("div",{className:"field-body",children:Object(f.jsxs)("div",{className:"control has-icons-left has-icons-right",style:{width:"100%"},children:[Object(f.jsx)("input",{className:(l?"is-success":"is-warning")+" input is-rounded",id:"fromEmail",name:"email",placeholder:"Enter your email",value:n.email||"",onChange:r,required:!0}),Object(f.jsx)("span",{className:"icon is-small is-left",children:Object(f.jsx)(p.a,{icon:"envelope"})}),Object(f.jsx)(x.a,{success:l||!1,position:"is-right"})]})})]}),Object(f.jsxs)("div",{className:"field is-horizontal",children:[Object(f.jsx)("div",{className:"field-label",children:Object(f.jsx)("label",{className:"label",htmlFor:"fromMessage",children:"Message"})}),Object(f.jsx)("div",{className:"field-body",children:Object(f.jsxs)("div",{className:"control has-icons-right",style:{width:"100%"},children:[Object(f.jsx)("textarea",{rows:"6",className:(d?"is-success":"is-warning")+" textarea",id:"fromMessage",name:"message",placeholder:"Enter your message",value:n.message||"",onChange:r,required:!0,style:{height:"auto"}}),Object(f.jsx)(x.a,{success:d||!1,position:"is-right",bottom:!0})]})})]}),Object(f.jsxs)("div",{className:"field is-horizontal",children:[Object(f.jsx)("div",{className:"field-label"}),Object(f.jsx)("div",{className:"field-body",style:{justifyContent:"center"},children:Object(f.jsx)("div",{className:"control",children:Object(f.jsx)("button",{type:"submit",className:"button is-rounded "+(s?u?"is-success":"is-warning":"is-loading"),disabled:!u,children:"Send"})})})]}),Object(f.jsxs)("p",{className:"is-size-7",children:["This site is protected by reCAPTCHA and the Google"," ",Object(f.jsx)("a",{href:"https://policies.google.com/privacy",target:"_blank",rel:"noopener noreferrer",children:"Privacy Policy"})," ","and"," ",Object(f.jsx)("a",{href:"https://policies.google.com/terms",target:"_blank",rel:"noopener noreferrer",children:"Terms of Service"})," ","apply."]})]})},g=t(13),v=t(25);function y(e){return w.apply(this,arguments)}function w(){return(w=Object(o.a)(i.a.mark((function e(s){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=v.a.nodeProtocol+"://"+v.a.nodeServer+":"+v.a.nodePort+"/api/submit-contact-form",a={success:!1,message:"Attempting to reach server."},e.prev=2,e.next=5,fetch(t,{method:"POST",mode:"cors",cache:"no-cache",headers:{Accept:"application/x-www-form-urlencoded","Content-Type":"application/x-www-form-urlencoded"},body:Object(g.a)(s)});case 5:if(200===(a=e.sent).status){e.next=10;break}return e.abrupt("return",{success:!1,message:"Could not reach server."});case 10:return e.abrupt("return",a);case 11:e.next=16;break;case 13:return e.prev=13,e.t0=e.catch(2),e.abrupt("return",{success:!1,message:"Could not reach server."});case 16:case"end":return e.stop()}}),e,null,[[2,13]])})))).apply(this,arguments)}function N(){return k.apply(this,arguments)}function k(){return(k=Object(o.a)(i.a.mark((function e(){var s,t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=v.a.nodeProtocol+"//"+v.a.nodeServer+":"+v.a.nodePort+"/api/test-round-trip",e.next=3,fetch(s,{method:"POST",mode:"cors",cache:"no-cache",headers:{Accept:"application/x-www-form-urlencoded","Content-Type":"application/x-www-form-urlencoded"},body:{message:"hello server"}});case 3:return t=e.sent,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var S=t(24),T=t(27),C=t.n(T),E=function(e){var s="https://www.google.com/recaptcha/api.js?render="+v.a.recaptchaSiteKey,t=Object(a.useState)(!1),c=Object(m.a)(t,2),n=c[0],r=c[1];return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(C.a,{onChangeClientState:function(t,a){if(a&&a.scriptTags){var c=a.scriptTags.find((function(e){return e.src===s}));c&&c.addEventListener("load",(function(){r(!0);var s=e.verifyCallback,t=e.action;window.grecaptcha.ready((function(){window.grecaptcha.execute(v.a.recaptchaSiteKey,{action:t}).then((function(e){"undefined"!==typeof s&&s(e)}))}))}),{once:!0})}},children:Object(f.jsx)("script",{async:!0,defer:!0,src:s})}),n?Object(f.jsx)("div",{id:e.elementID,"data-verifycallbackname":e.verifyCallbackName}):Object(f.jsx)("div",{id:e.elementID,className:"g-recaptcha"})]})};E.defaultProps={elementID:"g-recaptcha",verifyCallbackName:"verifyCallback"};var F=E,P=function(e){Object(u.a)(t,e);var s=Object(h.a)(t);function t(){var e;Object(l.a)(this,t);for(var a=arguments.length,c=new Array(a),n=0;n<a;n++)c[n]=arguments[n];return(e=s.call.apply(s,[this].concat(c))).state={recaptchaToken:null,submitted:!1,submittedText:null,submissionSuccess:!1,responseMessage:null},e.verifyCallback=function(s){e.setState({recaptchaToken:s})},e.onTest=Object(o.a)(i.a.mark((function s(){var t,a;return i.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return e.setState({submitted:!0}),s.next=3,N();case 3:if(!(t=s.sent).ok){s.next=9;break}return s.next=7,t.json();case 7:a=s.sent,e.setState({submissionSuccess:a.success,responseMessage:a.message});case 9:case"end":return s.stop()}}),s)}))),e.onSubmit=function(){var s=Object(o.a)(i.a.mark((function s(t){var a,c,n;return i.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return e.setState({submitted:!0,submittedText:t.message}),s.next=3,window.grecaptcha.execute(v.a.recaptchaSiteKey,{action:"submit_contact_form"});case 3:if(!(a=s.sent)){s.next=19;break}return t.recaptchaToken=a,s.next=8,y(t);case 8:if(!(c=s.sent).ok){s.next=16;break}return s.next=12,c.json();case 12:n=s.sent,e.setState({submissionSuccess:n.success,responseMessage:n.message}),s.next=17;break;case 16:e.setState({submissionSuccess:!1,responseMessage:c.message||"Something happened. Sorry!"});case 17:s.next=21;break;case 19:console.log("Could not refresh recaptcha token"),e.setState({submissionSuccess:!1,responseMessage:"Sorry. Recaptcha could not be checked."});case 21:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}(),e}return Object(d.a)(t,[{key:"render",value:function(){var e=this.state,s=e.submitted,t=e.responseMessage,a=e.submissionSuccess,c=e.submittedText;return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(F,{action:"load_contact_form",verifyCallback:this.verifyCallback}),!s&&Object(f.jsx)(O,{recaptchaToken:this.state.recaptchaToken,onSubmit:this.onSubmit,onTest:this.onTest}),s&&!t&&Object(f.jsx)(S.a,{}),s&&t&&Object(f.jsxs)("p",{className:"notification is-"+(a?"success":"danger"),children:[a&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("p",{children:"SUCCESS! Your message has been sent. Thank you!"}),c&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("p",{children:Object(f.jsx)("strong",{children:"Your message:"})}),Object(f.jsx)("p",{children:c})]})]}),!a&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("p",{children:["ERROR: ",t]}),Object(f.jsxs)("p",{children:["Your message has NOT been sent. Sorry!",Object(f.jsx)("br",{}),"If this problem persists, please email directly via ",Object(f.jsx)("br",{}),Object(f.jsx)("strong",{children:"neil at walkingoncustard dot com"})]}),c&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("p",{children:Object(f.jsx)("strong",{children:"Your message:"})}),Object(f.jsx)("p",{children:c})]})]})]})]})}}]),t}(c.a.Component);s.default=function(){return Object(f.jsxs)("div",{className:"has-text-centered",children:[Object(f.jsx)(n.a,{page:"contact"}),Object(f.jsx)("h1",{className:"title",children:"contact"}),Object(f.jsxs)("div",{className:"content",children:[Object(f.jsxs)("div",{className:"notification is-light",children:[Object(f.jsx)("p",{children:"Email is welcome!"}),Object(f.jsxs)("p",{children:[Object(f.jsx)("strong",{children:"Use the form below"}),", or email directly:"]}),Object(f.jsx)("p",{children:Object(f.jsxs)("em",{children:["neil ",Object(f.jsx)("strong",{children:"at"})," walkingoncustard"," ",Object(f.jsx)("strong",{children:"dot"})," com"]})}),Object(f.jsx)("p",{className:"notification is-primary",children:"I read every email and reply to as many as I can."})]}),Object(f.jsx)(P,{}),Object(f.jsx)("p",{className:"is-size-6 notification is-light is-hidden-mobile",children:"Or use your preferred social media site via the links below."})]})]})}}}]);
//# sourceMappingURL=15.dea0b9fc.chunk.js.map