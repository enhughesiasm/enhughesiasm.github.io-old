(this["webpackJsonpenhughesiasm.github.io"]=this["webpackJsonpenhughesiasm.github.io"]||[]).push([[15],{178:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(18),c=a(15),l=a.n(c),i=a(21),o=a(6),m=a(7),u=a(9),p=a(8);function d(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function h(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function f(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?h(Object(a),!0).forEach((function(t){d(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):h(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var b=a(20),g=a(14),E=a(37),v=function(e){var t=e.recaptchaToken,a=e.onSubmit,s=(e.onTest,function(e,t){var a=Object(n.useState)({}),r=Object(b.a)(a,2),s=r[0],c=r[1];return{handleSubmit:function(t){t&&t.preventDefault(),e(s)},handleInputChange:function(e){e.persist(),c((function(t){return f(f({},t),{},d({},e.target.name,e.target.value))}))},inputs:s}}(a)),c=s.inputs,l=s.handleInputChange,i=s.handleSubmit;c.recaptchaToken=t;var o=function(e){return e.name&&e.name.length>=3}(c),m=function(e){return e.email&&/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(e.email)}(c),u=function(e){return e.message&&e.message.length>=20&&e.message.length<2e3}(c),p=!!t&&o&&m&&u;return r.a.createElement("form",{id:"contactForm",onSubmit:i,className:"box",style:{marginTop:"3rem"}},r.a.createElement("div",{className:"field is-horizontal"},r.a.createElement("div",{className:"field-label"},r.a.createElement("label",{className:"label",htmlFor:"fromName"},"Name")),r.a.createElement("div",{className:"field-body"},r.a.createElement("div",{className:"control has-icons-left has-icons-right",style:{width:"100%"}},r.a.createElement("input",{className:(o?"is-success":"is-warning")+" input is-rounded",id:"fromName",name:"name",placeholder:"Enter your name",value:c.name||"",onChange:l,required:!0}),r.a.createElement("span",{className:"icon is-small is-left"},r.a.createElement(g.a,{icon:"user"})),r.a.createElement(E.a,{success:o||!1,position:"is-right"})))),r.a.createElement("div",{className:"field is-horizontal"},r.a.createElement("div",{className:"field-label"},r.a.createElement("label",{className:"label",htmlFor:"fromEmail"},"Email")),r.a.createElement("div",{className:"field-body"},r.a.createElement("div",{className:"control has-icons-left has-icons-right",style:{width:"100%"}},r.a.createElement("input",{className:(m?"is-success":"is-warning")+" input is-rounded",id:"fromEmail",name:"email",placeholder:"Enter your email",value:c.email||"",onChange:l,required:!0}),r.a.createElement("span",{className:"icon is-small is-left"},r.a.createElement(g.a,{icon:"envelope"})),r.a.createElement(E.a,{success:m||!1,position:"is-right"})))),r.a.createElement("div",{className:"field is-horizontal"},r.a.createElement("div",{className:"field-label"},r.a.createElement("label",{className:"label",htmlFor:"fromMessage"},"Message")),r.a.createElement("div",{className:"field-body"},r.a.createElement("div",{className:"control has-icons-right",style:{width:"100%"}},r.a.createElement("textarea",{rows:"6",className:(u?"is-success":"is-warning")+" textarea",id:"fromMessage",name:"message",placeholder:"Enter your message",value:c.message||"",onChange:l,required:!0,style:{height:"auto"}}),r.a.createElement(E.a,{success:u||!1,position:"is-right",bottom:!0})))),r.a.createElement("div",{className:"field is-horizontal"},r.a.createElement("div",{className:"field-label"}),r.a.createElement("div",{className:"field-body",style:{justifyContent:"center"}},r.a.createElement("div",{className:"control"},r.a.createElement("button",{type:"submit",className:"button is-rounded "+(t?p?"is-success":"is-warning":"is-loading"),disabled:!p},"Send")))),r.a.createElement("p",{className:"is-size-7"},"This site is protected by reCAPTCHA and the Google"," ",r.a.createElement("a",{href:"https://policies.google.com/privacy",target:"_blank",rel:"noopener noreferrer"},"Privacy Policy")," ","and"," ",r.a.createElement("a",{href:"https://policies.google.com/terms",target:"_blank",rel:"noopener noreferrer"},"Terms of Service")," ","apply."))},y=a(13),w=a(23);function N(e){return S.apply(this,arguments)}function S(){return(S=Object(i.a)(l.a.mark((function e(t){var a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=w.a.nodeProtocol+"://"+w.a.nodeServer+":"+w.a.nodePort+"/api/submit-contact-form",n={success:!1,message:"Attempting to reach server."},e.prev=2,e.next=5,fetch(a,{method:"POST",mode:"cors",cache:"no-cache",headers:{Accept:"application/x-www-form-urlencoded","Content-Type":"application/x-www-form-urlencoded"},body:Object(y.a)(t)});case 5:if(200===(n=e.sent).status){e.next=10;break}return e.abrupt("return",{success:!1,message:"Could not reach server."});case 10:return e.abrupt("return",n);case 11:e.next=16;break;case 13:return e.prev=13,e.t0=e.catch(2),e.abrupt("return",{success:!1,message:"Could not reach server."});case 16:case"end":return e.stop()}}),e,null,[[2,13]])})))).apply(this,arguments)}function k(){return O.apply(this,arguments)}function O(){return(O=Object(i.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=w.a.nodeProtocol+"//"+w.a.nodeServer+":"+w.a.nodePort+"/api/test-round-trip",e.next=3,fetch(t,{method:"POST",mode:"cors",cache:"no-cache",headers:{Accept:"application/x-www-form-urlencoded","Content-Type":"application/x-www-form-urlencoded"},body:{message:"hello server"}});case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var x=a(22),j=a(25),T=a.n(j),C=function(e){var t="https://www.google.com/recaptcha/api.js?render="+w.a.recaptchaSiteKey,a=Object(n.useState)(!1),s=Object(b.a)(a,2),c=s[0],l=s[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(T.a,{onChangeClientState:function(a,n){if(n&&n.scriptTags){var r=n.scriptTags.find((function(e){return e.src===t}));r&&r.addEventListener("load",(function(){l(!0);var t=e.verifyCallback,a=e.action;window.grecaptcha.ready((function(){window.grecaptcha.execute(w.a.recaptchaSiteKey,{action:a}).then((function(e){"undefined"!==typeof t&&t(e)}))}))}),{once:!0})}}},r.a.createElement("script",{async:!0,defer:!0,src:t})),c?r.a.createElement("div",{id:e.elementID,"data-verifycallbackname":e.verifyCallbackName}):r.a.createElement("div",{id:e.elementID,className:"g-recaptcha"}))};C.defaultProps={elementID:"g-recaptcha",verifyCallbackName:"verifyCallback"};var P=C,F=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={recaptchaToken:null,submitted:!1,submittedText:null,submissionSuccess:!1,responseMessage:null},e.verifyCallback=function(t){e.setState({recaptchaToken:t})},e.onTest=Object(i.a)(l.a.mark((function t(){var a,n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({submitted:!0}),t.next=3,k();case 3:if(!(a=t.sent).ok){t.next=9;break}return t.next=7,a.json();case 7:n=t.sent,e.setState({submissionSuccess:n.success,responseMessage:n.message});case 9:case"end":return t.stop()}}),t)}))),e.onSubmit=function(){var t=Object(i.a)(l.a.mark((function t(a){var n,r,s;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({submitted:!0,submittedText:a.message}),t.next=3,window.grecaptcha.execute(w.a.recaptchaSiteKey,{action:"submit_contact_form"});case 3:if(!(n=t.sent)){t.next=19;break}return a.recaptchaToken=n,t.next=8,N(a);case 8:if(!(r=t.sent).ok){t.next=16;break}return t.next=12,r.json();case 12:s=t.sent,e.setState({submissionSuccess:s.success,responseMessage:s.message}),t.next=17;break;case 16:e.setState({submissionSuccess:!1,responseMessage:r.message||"Something happened. Sorry!"});case 17:t.next=21;break;case 19:console.log("Could not refresh recaptcha token"),e.setState({submissionSuccess:!1,responseMessage:"Sorry. Recaptcha could not be checked."});case 21:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(m.a)(a,[{key:"render",value:function(){var e=this.state,t=e.submitted,a=e.responseMessage,n=e.submissionSuccess,s=e.submittedText;return r.a.createElement(r.a.Fragment,null,r.a.createElement(P,{action:"load_contact_form",verifyCallback:this.verifyCallback}),!t&&r.a.createElement(v,{recaptchaToken:this.state.recaptchaToken,onSubmit:this.onSubmit,onTest:this.onTest}),t&&!a&&r.a.createElement(x.a,null),t&&a&&r.a.createElement("p",{className:"notification is-"+(n?"success":"danger")},n&&r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"SUCCESS! Your message has been sent. Thank you!"),s&&r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,r.a.createElement("strong",null,"Your message:")),r.a.createElement("p",null,s))),!n&&r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"ERROR: ",a),r.a.createElement("p",null,"Your message has NOT been sent. Sorry!",r.a.createElement("br",null),"If this problem persists, please email directly via ",r.a.createElement("br",null),r.a.createElement("strong",null,"neil at walkingoncustard dot com")),s&&r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,r.a.createElement("strong",null,"Your message:")),r.a.createElement("p",null,s)))))}}]),a}(r.a.Component);t.default=function(){return r.a.createElement("div",{className:"has-text-centered"},r.a.createElement(s.a,{page:"contact"}),r.a.createElement("h1",{className:"title"},"contact"),r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"notification is-light"},r.a.createElement("p",null,"Email is welcome!"),r.a.createElement("p",null,r.a.createElement("strong",null,"Use the form below"),", or email directly:"),r.a.createElement("p",null,r.a.createElement("em",null,"neil ",r.a.createElement("strong",null,"at")," walkingoncustard"," ",r.a.createElement("strong",null,"dot")," com")),r.a.createElement("p",{className:"notification is-primary"},"I read every email and reply to as many as I can.")),r.a.createElement(F,null),r.a.createElement("p",{className:"is-size-6 notification is-light is-hidden-mobile"},"Or use your preferred social media site via the links below.")))}}}]);
//# sourceMappingURL=15.75e3e91d.chunk.js.map